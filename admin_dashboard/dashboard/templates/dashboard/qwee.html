<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBAC Admin Dashboard</title>
    <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
    <div class="app-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>RBAC Admin</h1>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-tab="users">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                    Users
                </button>
                <button class="nav-item" data-tab="roles">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"/></svg>
                    Roles
                </button>
                <button class="nav-item" data-tab="permissions">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>
                    Permissions
                </button>
            </nav>
        </aside>

        <main class="main-content">
            <div id="users-panel" class="panel active">
                <div class="panel-header">
                    <h2>Users</h2>
                    <button class="btn-primary" onclick="showModal('add-user-modal')">Add User</button>
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Roles</th>
                                <th>Status</th>
                                <th>Last Login</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="users-table-body">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="roles-panel" class="panel">
                <div class="panel-header">
                    <h2>Roles</h2>
                    <button class="btn-primary" onclick="showModal('add-role-modal')">Add Role</button>
                </div>
                <div class="roles-grid" id="roles-grid">
                    <!-- Populated by JavaScript -->
                </div>
            </div>

            <div id="permissions-panel" class="panel">
                <div class="panel-header">
                    <h2>Permissions Matrix</h2>
                </div>
                <div class="permissions-grid" id="permissions-grid">
                    <!-- Populated by JavaScript -->
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="add-user-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add New User</h3>
                <button class="close-modal" onclick="hideModal('add-user-modal')">&times;</button>
            </div>
            <form id="add-user-form" class="modal-body">
                <div class="form-group">
                    <label for="user-name">Name</label>
                    <input type="text" id="user-name" required>
                </div>
                <div class="form-group">
                    <label for="user-email">Email</label>
                    <input type="email" id="user-email" required>
                </div>
                <div class="form-group">
                    <label for="user-roles">Roles</label>
                    <select id="user-roles" multiple>
                        <!-- Populated by JavaScript -->
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn-secondary" onclick="hideModal('add-user-modal')">Cancel</button>
                    <button type="submit" class="btn-primary">Add User</button>
                </div>
            </form>
        </div>
    </div>

    <script type="module" src="/src/main.js"></script>
</body>
</html>